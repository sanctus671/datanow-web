(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"/yGZ":function(n,l,o){"use strict";o.r(l);var t=o("CcnG"),e=o("ri4K"),u=o("9B/o"),i=o("ZZ/e"),r=function(){function n(n,l,o,t){this.authService=n,this.iab=l,this.platform=o,this.router=t,this.user={username:"",password:"",error:"",loading:!1},this.isIos=!0}return n.prototype.ngOnInit=function(){},n.prototype.ionViewWillEnter=function(){this.authService.isAuthenticated()&&this.router.navigate([""])},n.prototype.login=function(){var n=this;this.user.loading=!0,this.user.error="",this.authService.login(this.user).then((function(l){n.user.username="",n.user.password="",n.user.loading=!1})).catch((function(l){if(n.user.loading=!1,!l||401!==l.status&&403!==l.status)if(l&&422===l.status)for(var o in l.error.parameterErrors)n.user.error=n.user.error+l.error.parameterErrors[o]+" ";else n.user.error=l&&0===l.status?"Your are offline. Connect to the internet and try again.":!l||500!==l.status&&404!==l.status?l.message:"There was an error on the server. If problems persist, contact us at info@datanow.co.nz.";else n.user.error="Incorrect email or password"}))},n.prototype.signup=function(){},n.prototype.openLink=function(n){this.iab.create(n,"_blank",{location:"yes"})},n}(),a=function(){return function(){}}(),g=o("pMnS"),s=o("oBZk"),c=o("Ip0R"),_=o("gIcY"),b=o("ZYCi"),p=t.rb({encapsulation:0,styles:[[".login[_ngcontent-%COMP%]{background-color:#051c3f;--background:#051C3F;height:100vh}.login.login--ios[_ngcontent-%COMP%]{background-color:#fff;--background:#ffffff;height:auto}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]{background-color:#fff;padding:0 40px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__logo[_ngcontent-%COMP%]{margin-bottom:85px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__inner[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:100px 0}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__inner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:30px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__inner[_ngcontent-%COMP%]   .login__main__form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-color:transparent;margin-bottom:10px;--background-focused:white}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__inner[_ngcontent-%COMP%]   .login__main__form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background-color:#f4f8fb;font-size:16px;border:2px solid #dee7ee;box-sizing:border-box;border-radius:3px;line-height:31px;--padding-start:15px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__inner[_ngcontent-%COMP%]   .login__main__form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .label-stacked.sc-ion-label-md-h[_ngcontent-%COMP%]{margin-bottom:10px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__inner[_ngcontent-%COMP%]   .login__main__form[_ngcontent-%COMP%]   .login__main__form__login-button[_ngcontent-%COMP%]{margin-top:25px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__inner[_ngcontent-%COMP%]   .login__main__form[_ngcontent-%COMP%]   .login__main__form__login-button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:10px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__form__forgot-password[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__form__error[_ngcontent-%COMP%]{text-align:center;color:red}.login[_ngcontent-%COMP%]   .login__secondary[_ngcontent-%COMP%]{color:#fff;text-align:center;max-width:580px;margin:0 auto;padding:50px 40px}.login[_ngcontent-%COMP%]   .login__secondary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px}.login[_ngcontent-%COMP%]   .login__secondary[_ngcontent-%COMP%]   .login__secondary__cta-button[_ngcontent-%COMP%]{max-width:400px;margin:0 auto 25px}@media screen and (max-width:480px){.login[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:33px;line-height:40px}.login[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;line-height:22px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]{padding:0 30px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__inner[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:40px}.login[_ngcontent-%COMP%]   .login__main[_ngcontent-%COMP%]   .login__main__logo[_ngcontent-%COMP%]{margin-bottom:65px}.login[_ngcontent-%COMP%]   .login__secondary[_ngcontent-%COMP%]{padding:50px 30px}}"]],data:{}});function d(n){return t.Lb(0,[(n()(),t.tb(0,0,null,null,1,"ion-spinner",[["color","light"],["name","circular"]],null,null,null,s.M,s.r)),t.sb(1,49152,null,0,i.sb,[t.h,t.k,t.z],{color:[0,"color"],name:[1,"name"]},null)],(function(n,l){n(l,1,0,"light","circular")}),null)}function m(n){return t.Lb(0,[(n()(),t.tb(0,0,null,null,1,"p",[["class","login__main__form__error"]],null,null,null,null,null)),(n()(),t.Kb(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.user.error)}))}function C(n){return t.Lb(0,[(n()(),t.tb(0,0,null,null,2,"p",[["class","login__main__form__forgot-password"]],null,null,null,null,null)),(n()(),t.tb(1,0,null,null,1,"a",[],null,[[null,"click"]],(function(n,l,o){var t=!0;return"click"===l&&(t=!1!==n.component.openLink("https://www.surveymonkey.com/r/V8M6RY2")&&t),t}),null,null)),(n()(),t.Kb(-1,null,["Forgot your password?"]))],null,null)}function h(n){return t.Lb(0,[(n()(),t.tb(0,0,null,null,8,"div",[["class","login__secondary"]],null,null,null,null,null)),(n()(),t.tb(1,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),t.Kb(-1,null,["Don't have an account?"])),(n()(),t.tb(3,0,null,null,2,"ion-button",[["class","login__secondary__cta-button"],["color","primary"],["expand","block"]],null,[[null,"click"]],(function(n,l,o){var t=!0;return"click"===l&&(t=!1!==n.component.openLink("https://www.datanow.co.nz/contact/")&&t),t}),s.x,s.c)),t.sb(4,49152,null,0,i.k,[t.h,t.k,t.z],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),t.Kb(-1,0,[" Get in Touch "])),(n()(),t.tb(6,0,null,null,2,"p",[["class","login__secondary__learn-more"]],null,null,null,null,null)),(n()(),t.tb(7,0,null,null,1,"a",[],null,[[null,"click"]],(function(n,l,o){var t=!0;return"click"===l&&(t=!1!==n.component.openLink("https://www.datanow.co.nz/")&&t),t}),null,null)),(n()(),t.Kb(-1,null,["Learn more about Datanow"]))],(function(n,l){n(l,4,0,"primary","block")}),null)}function f(n){return t.Lb(0,[(n()(),t.tb(0,0,null,null,47,"ion-content",[["class","login"]],null,null,null,s.A,s.f)),t.Hb(512,null,c.q,c.r,[t.s,t.t,t.k,t.D]),t.sb(2,278528,null,0,c.h,[c.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Gb(3,{"login--ios":0}),t.sb(4,49152,null,0,i.u,[t.h,t.k,t.z],null,null),(n()(),t.tb(5,0,null,0,40,"div",[["class","login__main"]],null,null,null,null,null)),(n()(),t.tb(6,0,null,null,39,"div",[["class","login__main__inner"]],null,null,null,null,null)),(n()(),t.tb(7,0,null,null,1,"div",[["class","login__main__logo"]],null,null,null,null,null)),(n()(),t.tb(8,0,null,null,0,"img",[["src","assets/logo.svg"]],null,null,null,null,null)),(n()(),t.tb(9,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),t.Kb(-1,null,["Login"])),(n()(),t.tb(11,0,null,null,34,"ion-list",[["class","login__main__form"]],null,null,null,s.H,s.m)),t.sb(12,49152,null,0,i.O,[t.h,t.k,t.z],null,null),(n()(),t.tb(13,0,null,0,11,"ion-item",[["class","ion-no-padding"],["no-lines",""]],null,null,null,s.F,s.k)),t.sb(14,49152,null,0,i.H,[t.h,t.k,t.z],null,null),(n()(),t.tb(15,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,s.G,s.l)),t.sb(16,49152,null,0,i.N,[t.h,t.k,t.z],{position:[0,"position"]},null),(n()(),t.Kb(-1,0,["Username"])),(n()(),t.tb(18,0,null,0,6,"ion-input",[["name","username"],["placeholder","Username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,o){var e=!0,u=n.component;return"ionBlur"===l&&(e=!1!==t.Eb(n,19)._handleBlurEvent(o.target)&&e),"ionChange"===l&&(e=!1!==t.Eb(n,19)._handleInputEvent(o.target)&&e),"ngModelChange"===l&&(e=!1!==(u.user.username=o)&&e),e}),s.E,s.j)),t.sb(19,16384,null,0,i.Mb,[t.k],null,null),t.Hb(1024,null,_.b,(function(n){return[n]}),[i.Mb]),t.sb(21,671744,null,0,_.e,[[8,null],[8,null],[8,null],[6,_.b]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Hb(2048,null,_.c,null,[_.e]),t.sb(23,16384,null,0,_.d,[[4,_.c]],null,null),t.sb(24,49152,null,0,i.G,[t.h,t.k,t.z],{name:[0,"name"],placeholder:[1,"placeholder"],type:[2,"type"]},null),(n()(),t.tb(25,0,null,0,11,"ion-item",[["class","ion-no-padding"]],null,null,null,s.F,s.k)),t.sb(26,49152,null,0,i.H,[t.h,t.k,t.z],null,null),(n()(),t.tb(27,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,s.G,s.l)),t.sb(28,49152,null,0,i.N,[t.h,t.k,t.z],{position:[0,"position"]},null),(n()(),t.Kb(-1,0,["Password"])),(n()(),t.tb(30,0,null,0,6,"ion-input",[["name","password"],["placeholder","Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,o){var e=!0,u=n.component;return"ionBlur"===l&&(e=!1!==t.Eb(n,31)._handleBlurEvent(o.target)&&e),"ionChange"===l&&(e=!1!==t.Eb(n,31)._handleInputEvent(o.target)&&e),"ngModelChange"===l&&(e=!1!==(u.user.password=o)&&e),e}),s.E,s.j)),t.sb(31,16384,null,0,i.Mb,[t.k],null,null),t.Hb(1024,null,_.b,(function(n){return[n]}),[i.Mb]),t.sb(33,671744,null,0,_.e,[[8,null],[8,null],[8,null],[6,_.b]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Hb(2048,null,_.c,null,[_.e]),t.sb(35,16384,null,0,_.d,[[4,_.c]],null,null),t.sb(36,49152,null,0,i.G,[t.h,t.k,t.z],{name:[0,"name"],placeholder:[1,"placeholder"],type:[2,"type"]},null),(n()(),t.tb(37,0,null,0,4,"ion-button",[["class","login__main__form__login-button"],["color","primary"],["expand","block"],["type","submit"]],null,[[null,"click"]],(function(n,l,o){var t=!0;return"click"===l&&(t=!1!==n.component.login()&&t),t}),s.x,s.c)),t.sb(38,49152,null,0,i.k,[t.h,t.k,t.z],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],type:[3,"type"]},null),(n()(),t.Kb(-1,0,[" Login "])),(n()(),t.ib(16777216,null,0,1,null,d)),t.sb(41,16384,null,0,c.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,0,1,null,m)),t.sb(43,16384,null,0,c.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,0,1,null,C)),t.sb(45,16384,null,0,c.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,0,1,null,h)),t.sb(47,16384,null,0,c.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(n,l){var o=l.component,t=n(l,3,0,o.isIos);n(l,2,0,"login",t),n(l,16,0,"stacked"),n(l,21,0,"username",o.user.username),n(l,24,0,"username","Username","text"),n(l,28,0,"stacked"),n(l,33,0,"password",o.user.password),n(l,36,0,"password","Password","password"),n(l,38,0,"primary",o.user.loading,"block","submit"),n(l,41,0,o.user.loading),n(l,43,0,o.user.error),n(l,45,0,!o.isIos),n(l,47,0,!o.isIos)}),(function(n,l){n(l,18,0,t.Eb(l,23).ngClassUntouched,t.Eb(l,23).ngClassTouched,t.Eb(l,23).ngClassPristine,t.Eb(l,23).ngClassDirty,t.Eb(l,23).ngClassValid,t.Eb(l,23).ngClassInvalid,t.Eb(l,23).ngClassPending),n(l,30,0,t.Eb(l,35).ngClassUntouched,t.Eb(l,35).ngClassTouched,t.Eb(l,35).ngClassPristine,t.Eb(l,35).ngClassDirty,t.Eb(l,35).ngClassValid,t.Eb(l,35).ngClassInvalid,t.Eb(l,35).ngClassPending)}))}function M(n){return t.Lb(0,[(n()(),t.tb(0,0,null,null,1,"app-login",[],null,null,null,f,p)),t.sb(1,114688,null,0,r,[e.a,u.a,i.Jb,b.m],null,null)],(function(n,l){n(l,1,0)}),null)}var P=t.pb("app-login",r,M,{},{},[]);o.d(l,"LoginPageModuleNgFactory",(function(){return O}));var O=t.qb(a,[],(function(n){return t.Bb([t.Cb(512,t.j,t.bb,[[8,[g.a,P]],[3,t.j],t.x]),t.Cb(4608,c.l,c.k,[t.u,[2,c.t]]),t.Cb(4608,_.g,_.g,[]),t.Cb(4608,i.b,i.b,[t.z,t.g]),t.Cb(4608,i.Gb,i.Gb,[i.b,t.j,t.q]),t.Cb(4608,i.Kb,i.Kb,[i.b,t.j,t.q]),t.Cb(1073742336,c.b,c.b,[]),t.Cb(1073742336,_.f,_.f,[]),t.Cb(1073742336,_.a,_.a,[]),t.Cb(1073742336,i.Eb,i.Eb,[]),t.Cb(1073742336,b.q,b.q,[[2,b.v],[2,b.m]]),t.Cb(1073742336,a,a,[]),t.Cb(1024,b.k,(function(){return[[{path:"",component:r}]]}),[])])}))}}]);